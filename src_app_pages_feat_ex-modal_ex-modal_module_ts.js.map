{"version":3,"file":"src_app_pages_feat_ex-modal_ex-modal_module_ts.js","mappings":"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","sources":["./src/app/pages/feat/ex-modal/ex-modal-routing.module.ts","./src/app/pages/feat/ex-modal/ex-modal.component.ts","./src/app/pages/feat/ex-modal/ex-modal.component.html","./src/app/pages/feat/ex-modal/ex-modal.module.ts","./src/app/widget/biz-widget/drag/drag.component.ts","./src/app/widget/biz-widget/drag/drag.component.html","./src/app/widget/biz-widget/drag/drag.module.ts","./src/app/widget/biz-widget/drag/drag.service.ts","./src/app/widget/modal/modal-drag.directive.ts","./src/app/widget/modal/modal-drag.service.ts","./src/app/widget/modal/modal.module.ts","./src/app/widget/modal/nz-modal-wrap.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { ExModalComponent } from '@app/pages/feat/ex-modal/ex-modal.component';\r\n\r\nconst routes: Routes = [{ path: '', component: ExModalComponent, data: { title: 'phương thức kéo', key: 'ex-modal' } }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ExModalRoutingModule {}\r\n","import { Component, OnInit, ChangeDetectionStrategy, TemplateRef, ViewChild } from '@angular/core';\r\n\r\nimport { PageHeaderType } from '@shared/components/page-header/page-header.component';\r\nimport { ModalBtnStatus } from '@widget/base-modal';\r\nimport { DragService } from '@widget/biz-widget/drag/drag.service';\r\nimport { NzModalWrapService } from '@widget/modal/nz-modal-wrap.service';\r\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\r\n\r\n@Component({\r\n  selector: 'app-ex-modal',\r\n  templateUrl: './ex-modal.component.html',\r\n  styleUrls: ['./ex-modal.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ExModalComponent implements OnInit {\r\n  @ViewChild('dragTpl', { static: true }) dragTpl!: TemplateRef<NzSafeAny>;\r\n  pageHeaderInfo: Partial<PageHeaderType> = {\r\n    title: 'Kéo Modal, cây cối chuyển sang chết, con người chuyển đến sống',\r\n    breadcrumb: ['Home', 'Modal']\r\n  };\r\n  isVisible = false;\r\n  isVisibleByDir = false;\r\n\r\n  constructor(private dragService: DragService, private modalDragService: NzModalWrapService) {}\r\n\r\n  handleOk(): void {\r\n    console.log('Button ok clicked!');\r\n    this.isVisible = false;\r\n    this.isVisibleByDir = false;\r\n  }\r\n\r\n  handleCancel(): void {\r\n    console.log('Button cancel clicked!');\r\n    this.isVisible = false;\r\n    this.isVisibleByDir = false;\r\n  }\r\n\r\n  showDailog1(): void {\r\n    this.isVisible = true;\r\n  }\r\n\r\n  showDailogConfirm(): void {\r\n    this.modalDragService.confirm({\r\n      nzTitle: 'Confirm',\r\n      nzContent: 'Gợi ý gì',\r\n      nzOnOk: () => {\r\n        console.log('Chắc chắn rồi');\r\n      },\r\n      nzOnCancel: () => {\r\n        console.log('Hủy bỏ');\r\n      }\r\n    });\r\n  }\r\n\r\n  showDailogInfo(): void {\r\n    this.modalDragService.info({ nzTitle: 'Info', nzContent: 'Gợi ý gì' });\r\n  }\r\n\r\n  showDailogSuccess(): void {\r\n    this.modalDragService.success({ nzTitle: 'Success', nzContent: 'Gợi ý gì' });\r\n  }\r\n\r\n  showDailogError(): void {\r\n    this.modalDragService.error({ nzTitle: 'Error', nzContent: 'Gợi ý gì' });\r\n  }\r\n\r\n  showDailogWarning(): void {\r\n    this.modalDragService.warning({ nzTitle: 'Warning', nzContent: 'Gợi ý gì' });\r\n  }\r\n\r\n  showDailog(): void {\r\n    // 两种方式\r\n    // this.dragService.show({nzTitle: this.dragTpl, nzMask: false,nzMaskStyle:{display:'none'},nzWrapClassName:\"pointer-events-none\"}).subscribe(res=>console.log(res))\r\n    this.dragService\r\n      .show({\r\n        nzTitle: 'title',\r\n        nzMask: false,\r\n        nzMaskStyle: { display: 'none' },\r\n        nzWrapClassName: 'pointer-events-none'\r\n      })\r\n      .subscribe(({ modalValue, status }) => {\r\n        if (status === ModalBtnStatus.Cancel) {\r\n          return;\r\n        }\r\n        console.log(modalValue);\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<app-page-header [pageHeaderInfo]=\"pageHeaderInfo\"></app-page-header>\r\n\r\n<div class=\"normal-table-wrap\">\r\n  <button nz-button class=\"m-r-8 m-b-8\" (click)=\"showDailog()\">服务的方式创建自定义modal</button>\r\n  <button nz-button class=\"m-r-8 m-b-8\" (click)=\"showDailog1()\">modal标签通过传nzTitle来进行拖拽</button>\r\n  <button nz-button class=\"m-r-8 m-b-8\" (click)=\"showDailogConfirm()\">创建可拖动的confirm（by山间之明月）</button>\r\n  <button nz-button class=\"m-r-8 m-b-8\" (click)=\"showDailogInfo()\">创建可拖动的info（by山间之明月）</button>\r\n  <button nz-button class=\"m-r-8 m-b-8\" (click)=\"showDailogSuccess()\">创建可拖动的success（by山间之明月）</button>\r\n  <button nz-button class=\"m-r-8 m-b-8\" (click)=\"showDailogError()\">创建可拖动的error（by山间之明月）</button>\r\n  <button nz-button class=\"m-r-8 m-b-8\" (click)=\"showDailogWarning()\">创建可拖动的warning（by山间之明月）</button>\r\n  <button nz-button class=\"m-r-8 m-b-8\" (click)=\"isVisibleByDir = true\">指令创建（by山间之明月）</button>\r\n</div>\r\n\r\n<nz-modal [(nzVisible)]=\"isVisible\" [nzTitle]=\"dragTpl\" (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\">\r\n  <ng-container *nzModalContent>\r\n    <p>床前明月光</p>\r\n    <p>疑似地上霜</p>\r\n    <p>举头望明月</p>\r\n    <p>低头思故乡</p>\r\n  </ng-container>\r\n</nz-modal>\r\n\r\n<nz-modal [(nzVisible)]=\"isVisibleByDir\" nzxModalDrag [nzTitle]=\"'指令创建可拖拽'\" (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\">\r\n  <ng-container *nzModalContent>\r\n    <p>床前明月光</p>\r\n    <p>疑似地上霜</p>\r\n    <p>举头望明月</p>\r\n    <p>低头思故乡</p>\r\n  </ng-container>\r\n</nz-modal>\r\n\r\n<!--可以将下列代码放开，放到modal的nzTitle中，也能达到拖动效果-->\r\n<ng-template #dragTpl>\r\n  <div class=\"hand-model-move\" cdkDragHandle cdkDrag cdkDragBoundary=\"nz-modal-container\" cdkDragRootElement=\".ant-modal-content\">这是一个可拖动modal</div>\r\n</ng-template>\r\n","import { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { SharedModule } from '@shared/shared.module';\r\nimport { DragModule } from '@widget/biz-widget/drag/drag.module';\r\nimport { NzxModalModule } from '@widget/modal/modal.module';\r\n\r\nimport { ExModalRoutingModule } from './ex-modal-routing.module';\r\nimport { ExModalComponent } from './ex-modal.component';\r\n\r\n@NgModule({\r\n  declarations: [ExModalComponent],\r\n  imports: [SharedModule, DragDropModule, DragModule, NzxModalModule, ExModalRoutingModule]\r\n})\r\nexport class ExModalModule {}\r\n","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\nimport { BasicConfirmModalComponent } from '@widget/base-modal';\r\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\r\nimport { NzModalRef } from 'ng-zorro-antd/modal';\r\n\r\n@Component({\r\n  selector: 'app-drag',\r\n  templateUrl: './drag.component.html',\r\n  styleUrls: ['./drag.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class DragComponent extends BasicConfirmModalComponent implements OnInit {\r\n  override params: object;\r\n\r\n  constructor(override modalRef: NzModalRef) {\r\n    super(modalRef);\r\n    this.params = {};\r\n  }\r\n\r\n  protected getCurrentValue(): Observable<NzSafeAny> {\r\n    return of(true);\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<p>一切都将一去杳然，任何人都无法将其捕获。我们便是这样活着。</p>\r\n<p>一切都将一去杳然，任何人都无法将其捕获。我们便是这样活着。</p>\r\n<p>一切都将一去杳然，任何人都无法将其捕获。我们便是这样活着。</p>\r\n<p>一切都将一去杳然，任何人都无法将其捕获。我们便是这样活着。</p>\r\n<p>一切都将一去杳然，任何人都无法将其捕获。我们便是这样活着。</p>\r\n<p>一切都将一去杳然，任何人都无法将其捕获。我们便是这样活着。</p>\r\n<p>一切都将一去杳然，任何人都无法将其捕获。我们便是这样活着。</p>\r\n<p>一切都将一去杳然，任何人都无法将其捕获。我们便是这样活着。</p>\r\n<p>一切都将一去杳然，任何人都无法将其捕获。我们便是这样活着。</p>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { ModalWrapService } from '@widget/base-modal';\r\n\r\nimport { DragComponent } from './drag.component';\r\n\r\n@NgModule({\r\n  declarations: [DragComponent],\r\n  imports: [CommonModule],\r\n  providers: [ModalWrapService]\r\n})\r\nexport class DragModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ModalWrapService } from '@widget/base-modal';\r\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\r\nimport { ModalOptions } from 'ng-zorro-antd/modal';\r\n\r\nimport { DragComponent } from './drag.component';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DragService {\r\n  constructor(private modalWrapService: ModalWrapService) {}\r\n\r\n  protected getContentComponent(): NzSafeAny {\r\n    return DragComponent;\r\n  }\r\n\r\n  public show(modalOptions: ModalOptions = {}, params?: object): Observable<NzSafeAny> {\r\n    return this.modalWrapService.show(this.getContentComponent(), modalOptions, params);\r\n  }\r\n}\r\n","/* eslint-disable prettier/prettier */\r\nimport { Directive, Host } from '@angular/core';\r\n\r\nimport { NzModalComponent } from 'ng-zorro-antd/modal';\r\n\r\nimport { ModalDragService } from './modal-drag.service';\r\n\r\n/**\r\n * 可拖动的对话框\r\n *\r\n * @example\r\n * ``` html\r\n * <nz-modal nzxModalDrag ></nz-modal>\r\n ```\r\n */\r\n@Directive({\r\n  selector: 'nz-modal[nzxModalDrag]'\r\n})\r\nexport class ModalDragDirective {\r\n  constructor(@Host() protected modal: NzModalComponent, public modalDragService: ModalDragService) {\r\n    const wrapCls = this.modalDragService.getRandomCls();\r\n    modal.afterOpen.subscribe(() => {\r\n      const modelElement = modal.getElement()!;\r\n      if (!modelElement || modelElement.className.indexOf(ModalDragService.DRAG_CLS_PREFIX) !== -1) {\r\n        return;\r\n      }\r\n\r\n      modelElement.classList.add(wrapCls);\r\n      const drag = this.modalDragService.createDragHandler(wrapCls, modal.nzModalType);\r\n      modal.afterClose.subscribe(() => {\r\n        if (drag && !drag.dropped) {\r\n          drag.dispose();\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n","/* eslint-disable prettier/prettier */\r\nimport { DragDrop, DragRef } from '@angular/cdk/drag-drop';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\r\nimport { ModalTypes, NzModalService } from 'ng-zorro-antd/modal';\r\n\r\n/**\r\n * 对话框拖动服务\r\n */\r\n@Injectable()\r\nexport class ModalDragService {\r\n  static readonly DRAG_CLS_PREFIX = 'NZ-MODAL-WRAP-CLS-';\r\n  constructor(public modal: NzModalService, public dragDrop: DragDrop) {}\r\n\r\n  /**\r\n   * 创建拖拽手柄\r\n   *\r\n   * @param wrapCls 类名\r\n   * @param nzModalType 对话框类型\r\n   */\r\n  createDragHandler<T = NzSafeAny>(wrapCls: string, nzModalType?: ModalTypes): DragRef<T> {\r\n    const wrapElement = document.querySelector<HTMLDivElement>(`.${wrapCls}`)!;\r\n    const rootElement = wrapElement.querySelector<HTMLDivElement>(`.ant-modal-content`)!;\r\n    const handle = nzModalType === 'confirm' ? rootElement.querySelector<HTMLDivElement>('.ant-modal-body')! : rootElement.querySelector<HTMLDivElement>('.ant-modal-header')!;\r\n    this.fixedWrapElementStyle(wrapElement);\r\n    this.setMaxZIndex(rootElement, wrapElement);\r\n    return this.dragDrop.createDrag(handle).withHandles([handle]).withRootElement(rootElement);\r\n  }\r\n\r\n  /**\r\n   * 获取随机类名\r\n   */\r\n  getRandomCls() {\r\n    return ModalDragService.DRAG_CLS_PREFIX + Date.now() + Math.random().toString().replace('0.', '');\r\n  }\r\n\r\n  /**\r\n   * 解决wrap的样式, 设置鼠标可以穿透\r\n   *\r\n   * @param wrapElement\r\n   * @protected\r\n   */\r\n  protected fixedWrapElementStyle(wrapElement: HTMLElement): void {\r\n    wrapElement.style.pointerEvents = 'none';\r\n  }\r\n\r\n  /**\r\n   * 当前对话框点击时,设置当前对话框z-index为最大\r\n   *\r\n   * @param rootElement 当前对话框\r\n   * @param wrapElement 待修改z-index 容器\r\n   * @protected\r\n   */\r\n  protected setMaxZIndex(rootElement: HTMLElement, wrapElement: HTMLElement): void {\r\n    rootElement.addEventListener(\r\n      'mousedown',\r\n      () => {\r\n        const maxZIndex = this.getModalMaxZIndex(wrapElement);\r\n        if (maxZIndex) {\r\n          wrapElement.style.zIndex = `${maxZIndex + 1}`;\r\n        }\r\n      },\r\n      false\r\n    );\r\n  }\r\n\r\n  /**\r\n   * 获取所有对话框最大值,并确定是否需要修改\r\n   *\r\n   * @param wrapElement 待修改z-index 容器\r\n   */\r\n  protected getModalMaxZIndex(wrapElement: HTMLElement): number | null {\r\n    const wrapZIndex = this.getZIndex(wrapElement);\r\n    const maxZIndex = this.modal.openModals.reduce<number>((prev, modal) => {\r\n      // @ts-ignore\r\n      const element = (modal.containerInstance.host || modal.containerInstance.elementRef).nativeElement;\r\n      if (wrapElement === element) {\r\n        return prev;\r\n      }\r\n      const zIndex = this.getZIndex(element);\r\n      return zIndex > prev ? zIndex : prev;\r\n    }, 0);\r\n    return maxZIndex >= wrapZIndex ? maxZIndex : null;\r\n  }\r\n\r\n  protected getZIndex(element: HTMLElement): number {\r\n    return +getComputedStyle(element, null).zIndex;\r\n  }\r\n}\r\n","/* eslint-disable prettier/prettier */\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { NzModalModule } from 'ng-zorro-antd/modal';\r\n\r\nimport { ModalDragDirective } from './modal-drag.directive';\r\nimport { ModalDragService } from './modal-drag.service';\r\nimport { NzModalWrapService } from './nz-modal-wrap.service';\r\n\r\n@NgModule({\r\n  declarations: [ModalDragDirective],\r\n  imports: [NzModalModule],\r\n  exports: [ModalDragDirective],\r\n  providers: [NzModalWrapService, ModalDragService]\r\n})\r\nexport class NzxModalModule {}\r\n","/* eslint-disable prettier/prettier */\r\nimport { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\r\nimport { ConfirmType, ModalOptions, NzModalRef, NzModalService } from 'ng-zorro-antd/modal';\r\n\r\nimport { ModalDragService } from './modal-drag.service';\r\n\r\n@Injectable()\r\nexport class NzModalWrapService {\r\n  constructor(public modal: NzModalService, public modalDragService: ModalDragService) {}\r\n\r\n  /**\r\n   * 创建对话框, 增加可拖拽功能\r\n   *\r\n   * @param config ModalOptions\r\n   */\r\n  create<T, R = NzSafeAny>(config: ModalOptions<T, R>): NzModalRef<T, R> {\r\n    return this.createModalWidthDrag(config, c => this.modal.create(c));\r\n  }\r\n\r\n  get openModals(): NzModalRef[] {\r\n    return this.modal.openModals;\r\n  }\r\n\r\n  get afterAllClosed(): Subject<void> {\r\n    return this.modal._afterAllClosed;\r\n  }\r\n\r\n  closeAll(): void {\r\n    this.modal.closeAll();\r\n  }\r\n\r\n  confirm<T>(options: ModalOptions<T>, confirmType?: ConfirmType): NzModalRef<T> {\r\n    return this.createModalWidthDrag(options, c => this.modal.confirm(c));\r\n  }\r\n\r\n  info<T>(options: ModalOptions<T>): NzModalRef<T> {\r\n    return this.createModalWidthDrag(options, c => this.modal.info(c));\r\n  }\r\n\r\n  success<T>(options: ModalOptions<T>): NzModalRef<T> {\r\n    return this.createModalWidthDrag(options, c => this.modal.success(c));\r\n  }\r\n\r\n  error<T>(options: ModalOptions<T>): NzModalRef<T> {\r\n    return this.createModalWidthDrag(options, c => this.modal.error(c));\r\n  }\r\n\r\n  warning<T>(options: ModalOptions<T>): NzModalRef<T> {\r\n    return this.createModalWidthDrag(options, c => this.modal.warning(c));\r\n  }\r\n\r\n  protected createModalWidthDrag<T, R = NzSafeAny>(config: ModalOptions<T, R>, create: (newConfig: ModalOptions<T, R>) => NzModalRef<T, R>) {\r\n    const wrapCls = this.modalDragService.getRandomCls();\r\n    const newConfig = this.createModalConfig(config, wrapCls);\r\n    const modalRef = create(newConfig);\r\n\r\n    modalRef.afterOpen.subscribe(() => {\r\n      const drag = this.modalDragService.createDragHandler(wrapCls, newConfig.nzModalType);\r\n      modalRef.afterClose.subscribe(() => {\r\n        if (drag && !drag.dropped) {\r\n          drag.dispose();\r\n        }\r\n      });\r\n    });\r\n\r\n    return modalRef;\r\n  }\r\n\r\n  protected createModalConfig<T, R = NzSafeAny>(config: ModalOptions<T, R>, wrapCls: string): ModalOptions<T, R> {\r\n    const defaultConfig: ModalOptions = {\r\n      nzMaskClosable: false,\r\n      nzTitle: 'Dấu'\r\n    };\r\n    const maskStyle = config.nzMask === false ? { nzMaskStyle: { display: 'none' } } : {};\r\n    const newConfig = Object.assign(defaultConfig, config, maskStyle);\r\n    newConfig.nzWrapClassName = `${newConfig.nzWrapClassName || ''} ${wrapCls}`;\r\n    return newConfig;\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}