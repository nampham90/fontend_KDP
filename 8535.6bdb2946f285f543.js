"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[8535],{78898:(F,f,i)=>{i.d(f,{C:()=>v});var d=i(44556),h=i(94650),z=i(54246);let v=(()=>{class m{constructor(t){this.http=t}searchParams(t){return this.http.post(d.Spin00901Ant100Search,t,{needSuccessInfo:!1})}Detail(t){return this.http.post(d.Spin00901Ant100Detail,t,{needSuccessInfo:!1})}create(t){return this.http.post(d.Spin00901Ant100Add,t,{needSuccessInfo:!1})}update(t){return this.http.post(d.Spin00901Ant100Update,t,{needSuccessInfo:!1})}delete(t){return this.http.post(d.Spin00901Ant100Del,t,{needSuccessInfo:!1})}deleteAll(t){return this.http.post(d.Spin00901Ant100Alldel,t,{needSuccessInfo:!1})}}return m.\u0275fac=function(t){return new(t||m)(h.LFG(z.q))},m.\u0275prov=h.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},67859:(F,f,i)=>{i.d(f,{S:()=>C});var d=i(94650),y=i(91565);let I=(()=>{class r{constructor(c){this.webService=c}mobileRule(c){return c?function g(r){return/^(0|\+?84|17951)?(13[0-9]|15[0-9]|17[0678]|18[0-9]|14[57])[0-9]{8}$/.test(r)}(c)?null:{message:"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\xednh x\xe1c"}:null}telPhoneRule(c){return c?function t(r){return/^(0\d{2,3}-?)?\d{7,8}$/.test(r)}(c)?null:{message:"Vui l\xf2ng nh\u1eadp zalo ch\xednh x\xe1c"}:null}emailRule(c){return c?function A(r){return/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(r)}(c)?null:{message:"Vui l\xf2ng nh\u1eadp emali ch\xednh x\xe1c"}:null}passwordRule(c){return c?function _(r){return/^[^\s]{6,20}$/.test(r)&&!/^\d+$/.test(r)}(c)?null:{message:"M\u1eadt kh\u1ea9u bao g\u1ed3m 6 \u0111\u1ebfn 20 ch\u1eef c\xe1i vi\u1ebft hoa v\xe0 vi\u1ebft th\u01b0\u1eddng, s\u1ed1 ho\u1eb7c c\xe1c k\xfd t\u1ef1 kh\xe1c"}:null}}return r.\u0275fac=function(c){return new(c||r)(d.LFG(y.Q))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),C=(()=>{class r{constructor(c){this.vrService=c}emailValidator(){return this.commonUtil(this.vrService.emailRule)}mobileValidator(){return this.commonUtil(this.vrService.telPhoneRule)}passwordValidator(){return this.commonUtil(this.vrService.passwordRule)}zaloValidator(){return this.commonUtil(this.vrService.telPhoneRule)}commonUtil(c){return S=>c(S.value)}}return r.\u0275fac=function(c){return new(c||r)(d.LFG(I))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},8535:(F,f,i)=>{i.r(f),i.d(f,{Spin00901Module:()=>ct});var d=i(9116),h=i(22155),z=i(13951),v=i(44556),m=i(22195),g=i(28746),t=i(94650),A=i(91565),_=i(36895),N=i(99651),y=i(35568),I=i(49651),C=i(50007),r=i(78898),l=i(24006),c=i(49523),S=i(39646),J=i(67859),x=i(73679),u=i(36704),Z=i(35635);function E(e,s){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.errors.message)}}function L(e,s){1&e&&(t.ynx(0),t._uU(1,"Ph\u1ea7n b\u1eaft bu\u1ed9c"),t.BQk())}function D(e,s){if(1&e&&(t.YNc(0,E,2,1,"ng-container",9),t.YNc(1,L,2,0,"ng-container",9)),2&e){const n=s.$implicit;t.Q6J("ngIf",n.hasError("message")),t.xp6(1),t.Q6J("ngIf",n.hasError("required"))}}let Q=(()=>{class e{constructor(n,o,a,p){this.modalRef=n,this.fb=o,this.cdf=a,this.validatorsService=p}ngOnInit(){this.initForm(),Object.keys(this.params).length>0&&this.addEditForm.patchValue(this.params)}getAsyncFnData(n){return(0,S.of)(n)}getCurrentValue(){return(0,c.r7)(this.addEditForm)?(0,S.of)(this.addEditForm.value):(0,S.of)(!1)}get f(){return this.addEditForm.controls}initForm(){this.addEditForm=this.fb.group({datacd:[null,[l.kI.required]],datanm:[null,[l.kI.required]],datarnm:[null,[l.kI.required]]})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C.Lf),t.Y36(l.qu),t.Y36(t.sBO),t.Y36(J.S))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-spin00901sub"]],decls:18,vars:16,consts:[["nz-form","",3,"formGroup"],["nzRequired","","nzFor","name",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["nz-input","","formControlName","datacd","id","datacd","placeholder","M\xe3 kho"],["nzRequired","","nzFor","datanm",3,"nzSm","nzXs"],["nz-input","","formControlName","datanm","maxlength","255","id","datanm","placeholder","T\xean kho"],["nzRequired","","nzFor","datarnm",3,"nzSm","nzXs"],["nz-input","","formControlName","datarnm","maxlength","255","id","datarnm","placeholder","T\xean  d\u1ef1 ph\xf2ng"],["combineTpl",""],[4,"ngIf"]],template:function(n,o){if(1&n&&(t.TgZ(0,"form",0)(1,"nz-form-item")(2,"nz-form-label",1),t._uU(3,"M\xe3 kho"),t.qZA(),t.TgZ(4,"nz-form-control",2),t._UZ(5,"input",3),t.qZA()(),t.TgZ(6,"nz-form-item")(7,"nz-form-label",4),t._uU(8,"T\xean kho"),t.qZA(),t.TgZ(9,"nz-form-control",2),t._UZ(10,"input",5),t.qZA()(),t.TgZ(11,"nz-form-item")(12,"nz-form-label",6),t._uU(13,"T\xean d\u1ef1 ph\xf2ng"),t.qZA(),t.TgZ(14,"nz-form-control",2),t._UZ(15,"input",7),t.qZA()(),t.YNc(16,D,2,2,"ng-template",null,8,t.W1O),t.qZA()),2&n){const a=t.MAs(17);t.Q6J("formGroup",o.addEditForm),t.xp6(2),t.Q6J("nzSm",4)("nzXs",24),t.xp6(2),t.Q6J("nzSm",18)("nzXs",24)("nzErrorTip",a),t.xp6(3),t.Q6J("nzSm",4)("nzXs",24),t.xp6(2),t.Q6J("nzSm",18)("nzXs",24)("nzErrorTip",a),t.xp6(3),t.Q6J("nzSm",4)("nzXs",24),t.xp6(2),t.Q6J("nzSm",18)("nzXs",24)("nzErrorTip",a)}},dependencies:[_.O5,l._Y,l.Fj,l.JJ,l.JL,l.nD,l.sg,l.u,x.t3,x.SK,u.Lr,u.Nx,u.iK,u.Fd,Z.Zp]}),e})();var U=i(69174);let k=(()=>{class e{constructor(n){this.modalWrapService=n}getContentComponent(){return Q}show(n={},o){return this.modalWrapService.show(this.getContentComponent(),n,o)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(U.U))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=i(32802),X=i(5529),Y=i(35656),O=i(94178),P=i(21102),R=i(66616),G=i(47044),B=i(21811),H=i(51971);const K=["operationTpl"];function V(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.showVideo())}),t._UZ(1,"span",17),t._uU(2),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("nzSize","large"),t.xp6(2),t.hij("",n.formItemNm[4]," ")}}function $(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(3);return t.KtG(a.add())}),t._UZ(1,"i",24),t._uU(2),t.qZA()}if(2&e){const n=t.oxw(3);t.xp6(2),t.hij(" ",n.formItemNm[9]," ")}}function j(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(3);return t.KtG(a.allDel())}),t._UZ(1,"i",26),t._uU(2),t.qZA()}if(2&e){const n=t.oxw(3);t.xp6(2),t.hij(" ",n.formItemNm[10]," ")}}function W(e,s){if(1&e&&(t.YNc(0,$,3,1,"button",21),t.YNc(1,j,3,1,"button",22)),2&e){const n=t.oxw(2);t.Q6J("appAuth",n.ActionCode.QuanlykhoAdd),t.xp6(1),t.Q6J("appAuth",n.ActionCode.QuanlykhoallDel)}}function q(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-card-table-wrap",18),t.NdJ("reload",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.reloadTable())}),t.TgZ(2,"app-ant-table",19),t.NdJ("selectedChange",function(a){t.CHM(n);const p=t.oxw();return t.KtG(p.selectedChecked(a))})("changePageSize",function(a){t.CHM(n);const p=t.oxw();return t.KtG(p.changePageSize(a))})("changePageNum",function(a){t.CHM(n);const p=t.oxw();return t.KtG(p.getDataList(a))}),t.qZA()(),t.YNc(3,W,2,2,"ng-template",null,20,t.W1O),t.BQk()}if(2&e){const n=t.MAs(4),o=t.oxw();t.xp6(1),t.Q6J("tableTitle",o.formItemNm[8])("btnTpl",n),t.xp6(1),t.Q6J("checkedCashArrayFromComment",o.checkedCashArray)("tableConfig",o.tableConfig)("tableData",o.dataList)}}function tt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"span",28)(1,"button",29),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().id,p=t.oxw();return t.KtG(p.edit(a))}),t._uU(2),t.qZA()()}if(2&e){const n=t.oxw(2);t.xp6(2),t.Oqu(n.formItemNm[14])}}function nt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"span",28)(1,"button",29),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().id,p=t.oxw();return t.KtG(p.del(a))}),t._uU(2),t.qZA()()}if(2&e){const n=t.oxw(2);t.xp6(2),t.Oqu(n.formItemNm[15])}}function et(e,s){if(1&e&&(t.YNc(0,tt,3,1,"span",27),t.YNc(1,nt,3,1,"span",27)),2&e){const n=t.oxw();t.Q6J("appAuth",n.ActionCode.QuanlykhoUpdate),t.xp6(1),t.Q6J("appAuth",n.ActionCode.QuanlykhoDel)}}const ot=function(){return{"padding-bottom":0}},it=function(){return{xs:8,sm:16,md:24}},at=[{path:"",component:(()=>{class e extends z.H{constructor(n,o,a,p,b,T,lt,pt,dt,mt){super(n,o,a,p,b,T),this.webService=n,this.router=o,this.cdf=a,this.datePipe=p,this.tabService=b,this.modalVideoyoutube=T,this.message=lt,this.modalSrv=pt,this.dataService=dt,this.spin00901subSevice=mt,this.pageHeaderInfo={title:"",breadcrumb:["","",""]},this.searchParam={},this.dateFormat=v.dateFormat,this.dataList=[],this.checkedCashArray=[],this.ActionCode=m.h,this.DisplayScreenID=h.t.spin00901}fnInit(){this.pageHeaderInfo={title:this.formItemNm[3],breadcrumb:[this.formItemNm[1],this.formItemNm[2],this.formItemNm[3]],desc:""},this.initTable()}destroy(){}add(){this.spin00901subSevice.show({nzTitle:"Th\xeam m\u01a1i"}).subscribe(n=>{!n||0===n.status||this.addEditData(n.modalValue,"create")})}edit(n){this.dataService.Detail({id:n}).pipe().subscribe(o=>{this.spin00901subSevice.show({nzTitle:"C\u1eadp nh\u1eadt"},o).subscribe(({modalValue:a,status:p})=>{0!==p&&(a.id=n,this.addEditData(a,"update"))})})}addEditData(n,o){this.dataService[o](n).pipe((0,g.x)(()=>{this.tableLoading(!1)})).subscribe(()=>{this.getDataList()})}del(n){this.modalSrv.confirm({nzTitle:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a kh\xf4ng !",nzContent:"Sau khi x\xf3a d\u1eed li\u1ec7u kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c.",nzOnOk:()=>{this.dataService.delete({id:n}).pipe().subscribe(o=>{1==o.deletedCount?(1===this.dataList.length&&this.tableConfig.pageIndex--,this.getDataList(),this.resetForm()):this.message.info("Th\u1ef1c hi\u1ec7n kh\xf4ng th\xe0nh c\xf4ng !")})}})}allDel(){this.dataList.length>0?this.modalSrv.confirm({nzTitle:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a kh\xf4ng !",nzContent:"Sau khi x\xf3a d\u1eed li\u1ec7u kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c.",nzOnOk:()=>{this.dataService.deleteAll({id:this.fngetListId()}).pipe().subscribe(n=>{this.getDataList(),this.resetForm()})}}):this.modalSrv.info({nzTitle:"Kh\xf4ng c\xf3 d\u01b0 li\u1ec7u"})}fngetListId(){let n=[];for(let o of this.dataList)n.push(o.id);return n}getDataList(n){this.tableLoading(!0),this.dataService.searchParams({pageSize:this.tableConfig.pageSize,pageNum:n?.pageIndex||this.tableConfig.pageIndex,filters:this.searchParam}).pipe((0,g.x)(()=>{this.tableLoading(!1)})).subscribe(a=>{const{list:p,total:b,pageNum:T}=a;this.dataList=[...p],this.tableConfig.total=b,this.tableConfig.pageIndex=T,this.tableLoading(!1)})}resetForm(){this.searchParam={}}reloadTable(){this.message.info("\u0110\xe3 \u0111\u01b0\u1ee3c l\xe0m m\u1edbi"),this.getDataList()}tableChangeDectction(){this.dataList=[...this.dataList],this.cdf.detectChanges()}tableLoading(n){this.tableConfig.loading=n,this.tableChangeDectction()}selectedChecked(n){this.checkedCashArray=[...n]}changePageSize(n){this.tableConfig.pageSize=n}initTable(){this.tableConfig={showCheckbox:!1,headers:[{title:this.formItemNm[11],field:"datacd",width:180},{title:this.formItemNm[12],width:180,field:"datanm"},{title:this.formItemNm[13],width:120,field:"status01"},{title:this.formItemNm[16],tdTemplate:this.operationTpl,width:250,fixed:!0,fixedDir:"right"}],total:0,loading:!0,pageSize:10,pageIndex:1}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(A.Q),t.Y36(d.F0),t.Y36(t.sBO),t.Y36(_.uU),t.Y36(N.p),t.Y36(y.L),t.Y36(I.dD),t.Y36(C.Sf),t.Y36(r.C),t.Y36(k))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-spin00901"]],viewQuery:function(n,o){if(1&n&&t.Gf(K,7),2&n){let a;t.iGM(a=t.CRH())&&(o.operationTpl=a.first)}},features:[t.qOj],decls:24,vars:30,consts:[[3,"pageHeaderInfo","extraTpl"],["huongdanTpl",""],[1,"normal-table-wrap"],["nzHoverable","",1,"m-b-10",3,"nzBodyStyle"],["nz-form",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],[3,"nzFor"],["nz-input","","name","datacd","placeholder","search m\xe3 kho",3,"ngModel","ngModelChange"],["nz-col","",1,"text-right","p-0","m-b-10",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],["nz-button","",3,"nzType","click"],["nz-icon","","nzType","search"],["nz-button","",1,"m-l-15",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","outline"],[4,"ngIf"],["operationTpl",""],["nz-button","","nzType","primary","nzShape","round",3,"nzSize","click"],["nz-icon","","nzType","star","nzTheme","outline"],[3,"tableTitle","btnTpl","reload"],[3,"checkedCashArrayFromComment","tableConfig","tableData","selectedChange","changePageSize","changePageNum"],["tableBtns",""],["nz-button","","nzType","primary","class","m-r-8",3,"click",4,"appAuth"],["nz-button","","nzType","default",3,"click",4,"appAuth"],["nz-button","","nzType","primary",1,"m-r-8",3,"click"],["nz-icon","","nzType","plus"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","delete"],["class","operate-text",4,"appAuth"],[1,"operate-text"],["nz-button","","nzType","primary","nzGhost","",3,"click"]],template:function(n,o){if(1&n&&(t._UZ(0,"app-page-header",0),t.YNc(1,V,3,2,"ng-template",null,1,t.W1O),t.TgZ(3,"div",2)(4,"nz-card",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"nz-form-item")(9,"nz-form-label",7),t._uU(10),t.qZA(),t.TgZ(11,"nz-form-control")(12,"input",8),t.NdJ("ngModelChange",function(p){return o.searchParam.datacd=p}),t.qZA()()()(),t._UZ(13,"div",6),t.TgZ(14,"div",9)(15,"button",10),t.NdJ("click",function(){return o.getDataList()}),t._UZ(16,"i",11),t._uU(17),t.qZA(),t.TgZ(18,"button",12),t.NdJ("click",function(){return o.resetForm()}),t._UZ(19,"i",13),t._uU(20),t.qZA()()()()(),t.YNc(21,q,5,5,"ng-container",14),t.YNc(22,et,2,2,"ng-template",null,15,t.W1O),t.qZA()),2&n){const a=t.MAs(2);t.Q6J("pageHeaderInfo",o.pageHeaderInfo)("extraTpl",a),t.xp6(4),t.Q6J("nzBodyStyle",t.DdM(28,ot)),t.xp6(2),t.Q6J("nzGutter",t.DdM(29,it)),t.xp6(1),t.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.xp6(3),t.Oqu(o.formItemNm[5]),t.xp6(2),t.Q6J("ngModel",o.searchParam.datacd),t.xp6(1),t.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.xp6(1),t.Q6J("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.xp6(1),t.Q6J("nzType","primary"),t.xp6(2),t.Oqu(o.formItemNm[6]),t.xp6(3),t.Oqu(o.formItemNm[7]),t.xp6(1),t.Q6J("ngIf",o.tableConfig)}},dependencies:[_.O5,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,w.q,X.q,Y.x,O.p,P.Ls,x.t3,x.SK,u.Lr,u.Nx,u.iK,u.Fd,R.ix,G.w,B.dQ,Z.Zp,H.bd]}),e})(),data:{title:"Qu\u1ea3n l\xfd kho",key:"spin00901"}}];let rt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(at),d.Bz]}),e})();var M=i(5316);let st=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[M.m]}),e})(),ct=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[M.m,rt,st]}),e})()}}]);