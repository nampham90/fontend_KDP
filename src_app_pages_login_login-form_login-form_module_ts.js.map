{"version":3,"file":"src_app_pages_login_login-form_login-form_module_ts.js","mappings":"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","sources":["./src/app/pages/login/login-form/login-form-routing.module.ts","./src/app/pages/login/login-form/login-form.component.ts","./src/app/pages/login/login-form/login-form.component.html","./src/app/pages/login/login-form/login-form.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { LoginFormComponent } from './login-form.component';\r\n\r\nconst routes: Routes = [{ path: '', data: { key: 'login-form', shouldDetach: 'no' }, component: LoginFormComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LoginFormRoutingModule {}\r\n","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { LoginInOutService } from '@core/services/common/login-in-out.service';\r\nimport { WindowService } from '@core/services/common/window.service';\r\nimport { LoginService } from '@core/services/http/login/login.service';\r\nimport { MenuStoreService } from '@store/common-store/menu-store.service';\r\nimport { SpinService } from '@store/common-store/spin.service';\r\nimport { UserInfoService } from '@store/common-store/userInfo.service';\r\nimport { fnCheckForm } from '@utils/tools';\r\n\r\n@Component({\r\n  selector: 'app-login-form',\r\n  templateUrl: './login-form.component.html',\r\n  styleUrls: ['./login-form.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class LoginFormComponent implements OnInit {\r\n  validateForm!: FormGroup;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private loginInOutService: LoginInOutService,\r\n    private menuService: MenuStoreService,\r\n    private dataService: LoginService,\r\n    private spinService: SpinService,\r\n    private windowServe: WindowService,\r\n    private userInfoService: UserInfoService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  submitForm(): void {\r\n    // 校验表单\r\n    if (!fnCheckForm(this.validateForm)) {\r\n      return;\r\n    }\r\n    // 设置全局loading\r\n    this.spinService.setCurrentGlobalSpinStore(true);\r\n    // 获取表单的值\r\n    const param = this.validateForm.getRawValue();\r\n    // 调用登录接口\r\n    // todo 登录后台返回统一模式为,如果code不为0，会自动被拦截，如果需要修改，请在src/app/core/services/http/base-http.service.ts中进行修改\r\n    // {\r\n    //   code:number,\r\n    //   data:any,\r\n    //   msg：string\r\n    // }\r\n    this.dataService\r\n      .login(param)\r\n      .pipe(\r\n        // 无论如何设置全局loading为false\r\n        finalize(() => {\r\n          this.spinService.setCurrentGlobalSpinStore(false);\r\n        })\r\n      )\r\n      .subscribe(userToken => {\r\n        // 这里后台登录成功以后，只会返回一套由jwt加密的token，下面需要对token进行解析\r\n        this.loginInOutService\r\n          .loginIn(userToken)\r\n          .then(() => {\r\n            this.router.navigateByUrl('default/dashboard/analysis');\r\n          })\r\n          .finally(() => {\r\n            this.spinService.setCurrentGlobalSpinStore(false);\r\n          });\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.validateForm = this.fb.group({\r\n      email: [null, [Validators.required]],\r\n      password: [null, [Validators.required]],\r\n      sodienthoai: [null],\r\n      remember: [null]\r\n    });\r\n  }\r\n}\r\n","<div class=\"login-form-wrap\">\r\n  <form nz-form [formGroup]=\"validateForm\" class=\"login-form\" (ngSubmit)=\"submitForm()\">\r\n    <nz-tabset [nzAnimated]=\"false\">\r\n      <nz-tab nzTitle=\"Login Account\">\r\n        <nz-form-item>\r\n          <nz-form-control nzErrorTip=\"Email\">\r\n            <nz-input-group class=\"example-input\" [nzSize]=\"'large'\" nzPrefixIcon=\"user\">\r\n              <input [placeholder]=\"'Email'\" type=\"text\" nz-input formControlName=\"email\" placeholder=\"email\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n        <nz-form-item>\r\n          <nz-form-control nzErrorTip=\"Mật Khẩu\">\r\n            <nz-input-group class=\"example-input\" [nzSize]=\"'large'\" nzPrefixIcon=\"lock\">\r\n              <input autocomplete=\"on\" [placeholder]=\"'Mật Khẩu'\" type=\"password\" nz-input formControlName=\"password\" placeholder=\"Mật Khẩu\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </nz-tab>\r\n\r\n      <nz-tab nzTitle=\"Đăng nhập số điện thoại\">\r\n        <nz-form-item>\r\n          <nz-form-control nzErrorTip=\"Vui lòng nhập tên của bạn !\">\r\n            <nz-input-group [nzSize]=\"'large'\" nzPrefixIcon=\"mobile\">\r\n              <input autocomplete=\"on\" type=\"text\" nz-input formControlName=\"sodienthoai\" placeholder=\"Số điện thoại\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n        <nz-form-item nz-row nzJustify=\"space-between\">\r\n          <nz-form-control class=\"flex-1\" style=\"max-width: 65%\" nz-col [nzXs]=\"15\" [nzSm]=\"16\" nzErrorTip=\"Vui lòng nhập mã xác nhận !\">\r\n            <nz-input-group [nzSize]=\"'large'\" nzPrefixIcon=\"mail\">\r\n              <input type=\"password\" nz-input formControlName=\"password\" placeholder=\"Mật khẩu mỡ khóa\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n          <button class=\"p-0\" nz-button nz-col [nzXs]=\"8\" [nzSm]=\"8\" [nzSize]=\"'large'\" nzType=\"default\">Lấy mã</button>\r\n        </nz-form-item>\r\n      </nz-tab>\r\n    </nz-tabset>\r\n    <div nz-row class=\"login-form-margin\">\r\n      <div nz-col [nzSpan]=\"12\">\r\n        <label nz-checkbox formControlName=\"remember\">\r\n          <span>Đăng nhập tự động</span>\r\n        </label>\r\n      </div>\r\n      <div nz-col [nzSpan]=\"12\">\r\n        <a class=\"login-form-forgot\">Quên mật khẩu</a>\r\n      </div>\r\n    </div>\r\n    <button nz-button nzSize=\"large\" class=\"login-form-button login-form-margin\" [nzType]=\"'primary'\">Đăng Nhập</button>\r\n    <div class=\"other-way\">\r\n      <div class=\"other-login\">\r\n      </div>\r\n      <a routerLink=\"/login/register-form\">Đăng ký</a>\r\n    </div>\r\n  </form>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { SharedModule } from '@shared/shared.module';\r\n\r\nimport { LoginFormRoutingModule } from './login-form-routing.module';\r\nimport { LoginFormComponent } from './login-form.component';\r\n\r\n@NgModule({\r\n  declarations: [LoginFormComponent],\r\n  imports: [SharedModule, LoginFormRoutingModule]\r\n})\r\nexport class LoginFormModule {}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}